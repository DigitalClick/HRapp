
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png" />
    <link rel="apple-touch-startup-image" href="images/apple-touch-startup-image-320x460.png" />
    <title>Digital You</title>
    <link rel="stylesheet" href="css/framework7.css">
    <link rel="stylesheet" href="style.css">
    <link type="text/css" rel="stylesheet" href="css/swipebox.css" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700,900' rel='stylesheet' type='text/css'>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <!-- Cordova reference, this is added to your app when it's built. -->
    <script src="cordova.js"></script>
    <script src="scripts/platformOverrides.js"></script>
    <script src="scripts/index.js"></script>

    <style type="text/css">
        .chart-legend li span {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 5px;
        }
    </style>
    <script type="text/javascript" src="JS/jquery.min.js"></script>
    <script type="text/javascript" src="js/Chart.js"></script>
    <script type="text/javascript">

        var serviceUrl = "https://cmtindiaonline.accenture.com/TestMobile/api/MobileWebServices/";
        var message = {
            header: null,
            body: null
        };
        var reqMessage = { message: null };
        function LoadMonth() {
            message.header = {
                appVersion: null,
                authToken: null,
                deviceType: null,
                osName: null,
                phoneModel: null,
                imei: "123456789",
                responseMessage: null,
                responseCode: 0,
                sessionId: "",
                timeStamp: null,
                timeZone: null
            };
            reqMessage.message = message;
            //alert(2);
            $.ajax({
                url: serviceUrl + 'GetMonths',
                type: 'Post',
                dataType: 'json',
                data: JSON.stringify(reqMessage),
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    $("#month").empty();
                    $("#week").empty();
                    $.each(data.message.body, function () {
                        $("#month").append($("<option/>").val(this).text(this));
                    });
                    LoadWeek(document.getElementById("month"));
                    LoadGrid();
                },
                error: function (request, status, error) {
                    //alert(1);
                    //alert(request.responseText);
                }

            });
        }

        //LoadMonth();

        function LoadWeek(drpMoth) {
            message.header = {
                appVersion: null,
                authToken: null,
                deviceType: null,
                osName: null,
                phoneModel: null,
                imei: "123456789",
                responseMessage: null,
                responseCode: 0,
                sessionId: "",
                timeStamp: null,
                timeZone: null
            };
            message.body = {
                MthYear: drpMoth.value
            };
            reqMessage.message = message;
            $.ajax({
                url: serviceUrl + 'GetWeeks',
                type: 'Post',
                dataType: 'json',
                data: JSON.stringify(reqMessage),
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    $("#week").empty();
                    $.each(data.message.body, function () {
                        $("#week").append($("<option/>").val(this.WeekID).text(this.WeekRange));
                    });
                },
                error: function (data) {
                    alert(data.message.header.responseMessage);
                }
            });
        }

        function LoadGrid() {
            //message.header = {
            //    appVersion: null,
            //    authToken: null,
            //    deviceType: null,
            //    osName: null,
            //    phoneModel: null,
            //    imei: "123456789",
            //    responseMessage: null,
            //    responseCode: 0,
            //    sessionId: "",
            //    timeStamp: null,
            //    timeZone: null
            //};
            //message.body = {
            //    MthYear: $("#week").val(),
            //    IG: "CMT"
            //};
            //reqMessage.message = message;
            //$("#gridView").empty();
            //$.ajax({
            //    url: serviceUrl + 'GetProjectOverallStatus',
            //    type: 'Post',
            //    dataType: 'json',
            //    data: JSON.stringify(reqMessage),
            //    contentType: "application/json; charset=utf-8",
            //    success: function (data) {
            //        //var divData;
            //        //divData = "<div>Count</div><div>Status</div>";
            //        //$.each(data.message.body, function () {
            //        //    divData = divData + "<div>" + this.count + "</div><div>" + this.status + "</div>";
            //        //});
            //        //$("#gridView").append(divData);
            //    },
            //    error: function (data) {
            //        alert(data.message.header.responseMessage);
            //    }            
            var pieData, lineData, barData, barCityData, barIGData;
            $("#metricName").append(window.localStorage.getItem("MetricName"));
            if (window.localStorage.getItem("MetricName") == "Attrition") {
                pieData = [
                      {
                          value: 5,
                          color: "#F7464A",
                          highlight: "#FF5A5E",
                          label: "Planned"
                      },
                      {
                          value: 12,
                          color: "#46BFBD",
                          highlight: "#5AD3D1",
                          label: "Un planned"
                      }
                ];
                lineData = {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [
                        {
                            label: "Un Planned Attrition",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [8, 9, 12, 12.5, 11.1, 11.3, 11.9]

                        },
                        {
                            label: "Forecast",
                            fillColor: "rgba(220,220,220,0.2)",
                            strokeColor: "rgba(220,220,220,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: [null, null, null, null, null, null, 11.9, 12, 14.0, 13, null, null]
                        }

                    ]
                };
                barData = {
                    labels: ["Jr Engineer", "Sr Engineer", "Team Lead", "Manager", "Sr Manager", "Director"],
                    datasets: [
                        {
                            label: "Planned",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [4, 6, 7, 4, 3, 3.5]
                        },
                        {
                            label: "Un Planned",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,0.8)",
                            highlightFill: "rgba(151,187,205,0.75)",
                            highlightStroke: "rgba(151,187,205,1)",
                            data: [14, 12.7, 13, 5, 3, 2.5]
                        }
                    ]
                };
                barCityData = {
                    labels: ["Chennai", "Mumbai", "Delhi"],
                    datasets: [
                        {
                            label: "Planned",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [5, 5.3, 4.0]
                        },
                        {
                            label: "Un Planned",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,0.8)",
                            highlightFill: "rgba(151,187,205,0.75)",
                            highlightStroke: "rgba(151,187,205,1)",
                            data: [12.1, 12, 12.4]
                        }
                    ]
                };
                barIGData = {
                    labels: ["BFSI", "Telecom", "Public Services", "Retail"],
                    datasets: [
                        {
                            label: "Planned",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [4.5, 5.0, 5.5, 5.2]
                        },
                        {
                            label: "Un Planned",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,0.8)",
                            highlightFill: "rgba(151,187,205,0.75)",
                            highlightStroke: "rgba(151,187,205,1)",
                            data: [13.1, 12.0, 13.8, 11.9]
                        }
                    ]
                };

            }
            if (window.localStorage.getItem("MetricName") == "Growth") {
                pieData = [
                      {
                          value: 15.3,
                          color: "#F7464A",
                          highlight: "#FF5A5E",
                          label: "Employee"
                      },
                      {
                          value: 6.8,
                          color: "#46BFBD",
                          highlight: "#5AD3D1",
                          label: "Contractor"
                      }
                ];
                lineData = {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [
                        {
                            label: "Employee",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [8.0, 9.0, 10.3, 11.5, 12.0, 13.9, 14.6, null, null, null, null, null]

                        },
                        {
                            label: "Forecast",
                            fillColor: "rgba(220,220,220,0.2)",
                            strokeColor: "rgba(220,220,220,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: [null, null, null, null, null, null, 14.6, 15.3, 16.0, 17.0, null, null]
                        }

                    ]
                };
                barData = {
                    labels: ["Jr Engineer", "Sr Engineer", "Team Lead", "Manager", "Sr Manager", "Director"],
                    datasets: [
                        {
                            label: "Employee",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [4506, 3755, 3004, 1878, 1127, 751]
                        },
                        {
                            label: "Contractor",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,0.8)",
                            highlightFill: "rgba(151,187,205,0.75)",
                            highlightStroke: "rgba(151,187,205,1)",
                            data: [325, 569, 325, 285, 122, null]
                        }
                    ]
                };
                barCityData = {
                    labels: ["Chennai", "Mumbai", "Delhi"],
                    datasets: [
                        {
                            label: "Employee",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [13.0, 15.7, 14.9]
                        },
                        {
                            label: "Contractor",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,0.8)",
                            highlightFill: "rgba(151,187,205,0.75)",
                            highlightStroke: "rgba(151,187,205,1)",
                            data: [5.5, 7.0, 6.6]
                        }
                    ]
                };
                barIGData = {
                    labels: ["BFSI", "Telecom", "Public Services", "Retail"],
                    datasets: [
                        {
                            label: "Employee",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [15.0, 14.9, 16.1, 13.6]
                        },
                        {
                            label: "Contractor",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,0.8)",
                            highlightFill: "rgba(151,187,205,0.75)",
                            highlightStroke: "rgba(151,187,205,1)",
                            data: [6.7, 7.2, 5.9, 6.3]
                        }
                    ]
                };
            }
            if (window.localStorage.getItem("MetricName") == "Diversity") {
                pieData = [
                      {
                          value: 72.0,
                          color: "#F7464A",
                          highlight: "#FF5A5E",
                          label: "Men"
                      },
                      {
                          value: 28.0,
                          color: "#46BFBD",
                          highlight: "#5AD3D1",
                          label: "Women"
                      }
                ];
                lineData = {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [27.1, 27.3, 27.0, 27.0, 29.6, 27.6, 28.1, null, null, null, null, null]

                        },
                        {
                            label: "Forecast",
                            fillColor: "rgba(220,220,220,0.2)",
                            strokeColor: "rgba(220,220,220,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: [null, null, null, null, null, null, 28.1, 28.0, 26.9, 27.2, null, null]
                        }

                    ]
                };
                barData = {
                    labels: ["Jr Engineer", "Sr Engineer", "Team Lead", "Manager", "Sr Manager", "Director"],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [28.5, 29.6, 22.1, 19.3, 15.0, 11.0]
                        }
                    ]
                };
                barCityData = {
                    labels: ["Chennai", "Mumbai", "Delhi"],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [29.0, 31.1, 27.2]
                        }
                    ]
                };
                barIGData = {
                    labels: ["BFSI", "Telecom", "Public Services", "Retail"],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [22.1, 29.1, 26.0, 25.4]
                        }
                    ]
                };
            }
            if (window.localStorage.getItem("MetricName") == "OnBoarders") {
                pieData = [
                      {
                          value: 1122,
                          color: "#F7464A",
                          highlight: "#FF5A5E",
                          label: "Experienced"
                      },
                      {
                          value: 987,
                          color: "#46BFBD",
                          highlight: "#5AD3D1",
                          label: "Entry Level"
                      }
                ];
                lineData = {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [
                        {
                            label: "On Boarder",
                            fillColor: "#46BFBD",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [206, 188, 162, 113, 199, 117, 165, null, null, null, null, null]

                        },
                        {
                            label: "Forecast",
                            fillColor: "rgba(220,220,220,0.2)",
                            strokeColor: "rgba(220,220,220,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: [null, null, null, null, null, null, 165, 401, 267, 291, null, null]
                        }

                    ]
                };
                barData = {
                    labels: ["Jr Engineer", "Sr Engineer", "Team Lead", "Manager", "Sr Manager", "Director"],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [987, 614, 284, 117, 89, 18]
                        }
                    ]
                };
                barCityData = {
                    labels: ["Chennai", "Mumbai", "Delhi"],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [587, 1103, 149]
                        }
                    ]
                };
                barIGData = {
                    labels: ["BFSI", "Telecom", "Public Services", "Retail"],
                    datasets: [
                        {
                            label: "Women",
                            fillColor: "#F7464A",
                            strokeColor: "rgba(220,220,220,0.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: [867, 729, 195, 318]
                        }
                    ]
                };
            }
            //Pie Chart
            var myPieChart = new Chart(document.getElementById("pieChart").getContext("2d")).Pie(pieData);
            $("#legendPie").append(myPieChart.generateLegend());
            //Line Chart
            var options = {
                scaleShowGridLines: false
            }
            var myLineChart = new Chart(document.getElementById("lineChart").getContext("2d")).Line(lineData, options);
            $("#legendLine").append(myLineChart.generateLegend());
            //Bar Chart
            var options = {
                scaleShowGridLines: false
            }
            var myLineChart = new Chart(document.getElementById("barChart").getContext("2d")).Bar(barData, options);
            $("#legendBar").append(myLineChart.generateLegend());
            //Bar City Chart
            var options = {
                scaleShowGridLines: false
            }
            var myCityLineChart = new Chart(document.getElementById("barCityChart").getContext("2d")).Bar(barCityData, options);
            $("#legendCityBar").append(myCityLineChart.generateLegend());
            //Bar IG Chart
            var options = {
                scaleShowGridLines: false
            }
            var myLineIGChart = new Chart(document.getElementById("barIGChart").getContext("2d")).Bar(barIGData, options);
            $("#legendIGBar").append(myLineIGChart.generateLegend());

            //});
        }
        function Loadurl(url) {

            window.location.replace(url);
        }

    </script>

</head>
<body id="mobile_wrap">
    <div class="statusbar-overlay"></div>
    <div class="panel-overlay"></div>
    <div class="panel panel-left panel-cover">
        <nav class="list-nav-small">
            <ul>
                <li class="home-icon-small"><a href="index.html" class="close-panel">Home</a></li>
                <li class="about-icon-small"><a href="about.html" class="close-panel">About</a></li>
                <li class="features-icon-small"><a href="Communities.html" class="close-panel">Communities</a></li>
                <li class="photos-icon-small"><a href="Contact.html" class="close-panel">Contact</a></li>
                <li class="video-icon-small"><a href="QuickLink.html" class="close-panel">Quick Links</a></li>
                <!--<li class="blog-icon-small"><a href="blog.html" class="close-panel">Blog</a></li>
                <li class="contact-icon-small"><a href="contact.html" class="close-panel">Contact</a></li>
                <li class="contact-icon-small"><a href="#" onclick="Loadurl('QuickLink.html')" class="close-panel">Quick Links</a></li>
                <li class="dashboard-icon-small"><a href="#" onclick="Loadurl('Dashboard.html')" class="close-panel">Dashboard</a></li>
                <li class="dashboard-icon-small"><a href="#" onclick="Loadurl('Maps.html')" class="close-panel">Maps</a></li>-->
            </ul>
        </nav>
    </div>
    <div class="views">
        <div class="view view-main">
            <div class="pages">
                <div data-page="projects" class="page no-toolbar no-navbar">
                    <div class="page-content">
                        <div class="navbarpages">
                            <div class="navbar_home_link"><a href="Metric.html"><img src="images/icons/white/home.png" alt="" title="" /></a></div>
                            <div class="navbar_page_center" id="metricName"></div>
                            <div class="menu_open_icon_white"><a href="#" class="open-panel"><img src="images/menu_open.png" alt="" title="" /></a></div>
                        </div>
                        <div id="pages_maincontent">
                            <!--<select id="month" onchange="LoadWeek(this)"></select>
                            <select id="week" onchange="LoadGrid()"></select>-->
                            <!--<div id="gridView">
                            </div>-->
                            <div id="canvas-holder">
                                <canvas id="pieChart" width="300" height="400" />
                            </div>
                            <div id="legendPie" class="chart-legend"></div>
                            <div id="canvas-holder">
                                <canvas id="lineChart" width="300" height="400" />
                            </div>
                            <div id="legendLine" class="chart-legend"></div>
                            <div id="canvas-holder">
                                <canvas id="barChart" width="300" height="400" />
                            </div>
                            <div id="legendBar" class="chart-legend"></div>
                            <div id="canvas-holder">
                                <canvas id="barCityChart" width="300" height="400" />
                            </div>
                            <div id="legendCityBar" class="chart-legend"></div>
                            <div id="canvas-holder">
                                <canvas id="barIGChart" width="300" height="400" />
                            </div>
                            <div id="legendIGBar" class="chart-legend"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="js/jquery.swipebox.js"></script>
    <script type="text/javascript" src="js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="js/email.js"></script>
    <script type="text/javascript" src="js/framework7.min.js"></script>
    <script type="text/javascript" src="js/my-app.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            LoadGrid();
        });
    </script>

</body>
</html>